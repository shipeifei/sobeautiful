var dataType={push:Array.prototype.push,slice:Array.prototype.slice,toString:Object.prototype.toString,hasOwnProperty:Object.prototype.hasOwnProperty,nativeIsArray:Array.isArray,nativeKeys:Object.keys,nativeBind:Function.prototype.bind,nativeCreate:Object.create,class2type:function(){for(var t={},r="Boolean Number String Function Array Date RegExp Object Error".split(" "),e=0,n=r.length;n>e;e++)t["[object "+r[e]+"]"]=r[e].toLowerCase();return t}(),toString:{}.toString,isUndefined:function(t){return"undefined"==typeof t},type:function(t){return null==t?String(t):this.class2type[this.toString.call(t)]||"object"},isString:function(t){return this.isUndefined(t)?!1:"string"===this.type(t)},isNumber:function(t){return this.isUndefined(t)?!1:"number"===this.type(t)},isBoolean:function(t){return this.isUndefined(t)?!1:"boolean"===this.type(t)},isFunction:function(t){return"function"===this.type(t)},isWindow:function(t){return null!=t&&t===t.window},isDocument:function(t){return null!=t&&1===t.nodeType},isObject:function(t){return"object"===this.type(t)},isNull:function(t){return null===t},isNaN:function(t){return this.isNumber(t)&&t!==+t},hasSelfProperty:function(t,r){return null!=t&&this.hasOwnProperty.call(t,r)},isArray:Array.isArray||function(t){return"array"===this.type(t)},size:function(t){return this.isNull(t)?0:this.isArray(t)?t.length:0},isPlainObject:function(t){return this.isObject(t)&&!this.isWindow(t)&&Object.getPrototypeOf(t)==Object.prototype},likeArray:function(t){return"number"==typeof t.length},isEmptyObject:function(t){var r;for(r in t)return!1;return!0},isEmpty:function(t){return null==t?!0:this.likeArray(t)&&(this.isArray(t)||this.isString(t))?0===t.length:this.isEmptyObject(t)}},dataSet={contain:function(t,r){if(dataType.likeArray(t)){if(Array.prototype.indexOf)return t.indexOf(r);for(var e=t.length,n=0;e>n;n++)if(t[n]===r)return n;return-1}return dataType.isString(t)?t.indexOf(r):-1},hasEnumBug:!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps:["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],collectNonEnumProps:function(t,r){var e=this.nonEnumerableProps.length,n=t.constructor,i=dataType.isFunction(n)&&n.prototype||Object.prototype,o="constructor";for(dataType.hasSelfProperty(t,o)&&!this.contains(r,o)&&r.push(o);e--;)o=this.nonEnumerableProps[e],o in t&&t[o]!==i[o]&&!this.contains(r,o)&&r.push(o)},keys:function(t){if(!dataType.isObject(t))return[];if(dataType.nativeKeys)return dataType.nativeKeys(t);var r=[];for(var e in t)dataType.hasSelfProperty(t,e)&&r.push(e);return this.hasEnumBug&&this.collectNonEnumProps(t,r),r},extend:function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t},eq:function(t,r,e,n){if(t===r)return 0!==t||1/t===1/r;if(null==t||null==r)return t===r;var i=dataType.toString.call(t);if(i!==dataType.toString.call(r))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+r;case"[object Number]":return+t!==+t?+r!==+r:0===+t?1/+t===1/r:+t===+r;case"[object Date]":case"[object Boolean]":return+t===+r}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof r)return!1;var a=t.constructor,u=r.constructor;if(a!==u&&!(dataType.isFunction(a)&&a instanceof a&&dataType.isFunction(u)&&u instanceof u)&&"constructor"in t&&"constructor"in r)return!1}e=e||[],n=n||[];for(var s=e.length;s--;)if(e[s]===t)return n[s]===r;if(e.push(t),n.push(r),o){if(s=t.length,s!==r.length)return!1;for(;s--;)if(!eq(t[s],r[s],e,n))return!1}else{var c,f=this.keys(t);if(s=f.length,this.keys(r).length!==s)return!1;for(;s--;)if(c=f[s],!dataType.hasSelfProperty(r,c)||!eq(t[c],r[c],e,n))return!1}return e.pop(),n.pop(),!0},isEqual:function(t,r){return this.eq(t,r)},each:function(t,r){var e,n;if(dataType.likeArray(t)){if(Array.prototype.forEach)t.forEach(function(e,n,i){return r.call(e,n,e)===!1?t:void 0});else for(e=0;e<t.length;e++)if(r.call(t[e],e,t[e])===!1)return t}else for(n in t)if(r.call(t[n],n,t[n])===!1)return t;return t},map:function(t,r){var e,n,i,o=[];if(dataType.likeArray(t)){if("function"==typeof Array.prototype.map)return t.map(r);for(n=0;n<t.length;n++)e=r(t[n],n,t[n]),dataType.isNull(e)||o.push(e)}else for(i in t)e=r(t[i],i,t[i]),dataType.isNull(e)||o.push(e);return function(){return o.length>0?Array.prototype.concat.apply([],o):o}()},filter:function(t,r){if("function"!=typeof Array.prototype.filter){var e=[];if("function"==typeof r)for(var n=0,i=t.length;i>n;n++)r.call(t[n],n,t[n])&&e.push(t[n]);return e}return t.filter(r)},some:function(t,r){if("function"!=typeof Array.prototype.some){var e=!1;if("function"==typeof r)for(var n=0,i=t.length;i>n&&e!==!0;n++)e=!!r.call(t[n],n,t[n]);return e}return Array.prototype.some.call(t,r)},every:function(t,r){if("function"!=typeof Array.prototype.every){var e=!0;if("function"==typeof r)for(var n=0,i=t.length;i>n&&e!==!1;n++)e=!!r.call(t[n],n,t[n]);return e}return Array.prototype.every.call(t,r)}};