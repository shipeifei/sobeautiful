var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind,nativeCreate=Object.create;"function"!=typeof ArrayProto.forEach&&(ArrayProto.forEach=function(t,r){for(var n=0,e=this.length;e>n;n++)"function"==typeof t&&hasOwnProperty.call(this,n)&&t.call(r,this[n],n,this)});var dataType={class2type:function(){for(var t={},r="Boolean Number String Function Array Date RegExp Object Error".split(" "),n=0,e=r.length;e>n;n++)t["[object "+r[n]+"]"]=r[n].toLowerCase();return t}(),isUndefined:function(t){return"undefined"==typeof t},type:function(t){return null==t?String(t):this.class2type[this.toString.call(t)]||"object"},isString:function(t){return this.isUndefined(t)?!1:"string"===this.type(t)},isNumber:function(t){return this.isUndefined(t)?!1:"number"===this.type(t)},isBoolean:function(t){return this.isUndefined(t)?!1:"boolean"===this.type(t)},isFunction:function(t){return"function"===this.type(t)},isWindow:function(t){return null!=t&&t===t.window},isDocument:function(t){return null!=t&&1===t.nodeType},isObject:function(t){return"object"===this.type(t)},isNull:function(t){return null===t},isNaN:function(t){return this.isNumber(t)&&t!==+t},hasSelfProperty:function(t,r){return null!=t&&hasOwnProperty.call(t,r)},isArray:Array.isArray||function(t){return"array"===this.type(t)},size:function(t){return this.isNull(t)?0:this.isArray(t)?t.length:0},isPlainObject:function(t){return this.isObject(t)&&!this.isWindow(t)&&Object.getPrototypeOf(t)==Object.prototype},likeArray:function(t){return"number"==typeof t.length},isEmptyObject:function(t){var r;for(r in t)return!1;return!0},isEmpty:function(t){return null==t?!0:this.likeArray(t)&&(this.isArray(t)||this.isString(t))?0===t.length:this.isEmptyObject(t)}},dataSet={contain:function(t,r){if(dataType.likeArray(t)){if(ArrayProto.indexOf)return t.indexOf(r);for(var n=t.length,e=0;n>e;e++)if(t[e]===r)return e;return-1}return dataType.isString(t)?t.indexOf(r):-1},hasEnumBug:!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps:["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],collectNonEnumProps:function(t,r){var n=this.nonEnumerableProps.length,e=t.constructor,o=dataType.isFunction(e)&&e.prototype||Object.prototype,i="constructor";for(dataType.hasSelfProperty(t,i)&&!this.contains(r,i)&&r.push(i);n--;)i=this.nonEnumerableProps[n],i in t&&t[i]!==o[i]&&!this.contains(r,i)&&r.push(i)},keys:function(t){if(!dataType.isObject(t))return[];if(nativeKeys)return nativeKeys(t);var r=[];for(var n in t)dataType.hasSelfProperty(t,n)&&r.push(n);return this.hasEnumBug&&this.collectNonEnumProps(t,r),r},extend:function(t,r){for(var n in r)r.hasOwnProperty(n)&&(t[n]=r[n]);return t},eq:function(t,r,n,e){if(t===r)return 0!==t||1/t===1/r;if(null==t||null==r)return t===r;var o=toString.call(t);if(o!==toString.call(r))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+r;case"[object Number]":return+t!==+t?+r!==+r:0===+t?1/+t===1/r:+t===+r;case"[object Date]":case"[object Boolean]":return+t===+r}var i="[object Array]"===o;if(!i){if("object"!=typeof t||"object"!=typeof r)return!1;var u=t.constructor,a=r.constructor;if(u!==a&&!(dataType.isFunction(u)&&u instanceof u&&dataType.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in r)return!1}n=n||[],e=e||[];for(var s=n.length;s--;)if(n[s]===t)return e[s]===r;if(n.push(t),e.push(r),i){if(s=t.length,s!==r.length)return!1;for(;s--;)if(!eq(t[s],r[s],n,e))return!1}else{var c,f=this.keys(t);if(s=f.length,this.keys(r).length!==s)return!1;for(;s--;)if(c=f[s],!dataType.hasSelfProperty(r,c)||!eq(t[c],r[c],n,e))return!1}return n.pop(),e.pop(),!0},isEqual:function(t,r){return this.eq(t,r)},each:function(t,r){var n;if(dataType.likeArray(t))return t.forEach(r);for(n in t)if(r.call(t[n],n,t[n])===!1)return t;return t},map:function(t,r){var n,e,o,i=[];if(dataType.likeArray(t)){if("function"==typeof ArrayProto.map)return t.map(r);for(e=0;e<t.length;e++)n=r(t[e],e,t[e]),dataType.isNull(n)||i.push(n)}else for(o in t)n=r(t[o],o,t[o]),dataType.isNull(n)||i.push(n);return function(){return i.length>0?ArrayProto.concat.apply([],i):i}()},filter:function(t,r){if("function"!=typeof ArrayProto.filter){var n=[];if("function"==typeof r)for(var e=0,o=t.length;o>e;e++)r.call(t[e],e,t[e])&&n.push(t[e]);return n}return t.filter(r)},some:function(t,r){if("function"!=typeof ArrayProto.some){var n=!1;if("function"==typeof r)for(var e=0,o=t.length;o>e&&n!==!0;e++)n=!!r.call(t[e],e,t[e]);return n}return ArrayProto.some.call(t,r)},every:function(t,r){if("function"!=typeof ArrayProto.every){var n=!0;if("function"==typeof r)for(var e=0,o=t.length;o>e&&n!==!1;e++)n=!!r.call(t[e],e,t[e]);return n}return ArrayProto.every.call(t,r)},compact:function(t){return this.filter(t,function(t){return null!=t})},indexOf:function(t,r,n){var e=ArrayProto.indexOf;if("function"==typeof e)return e.call(t,r,n);var o=-1;n=1*n||0;for(var i=0,u=t.length;u>i;i++)if(i>=n&&t[i]===r){o=i;break}return o}};